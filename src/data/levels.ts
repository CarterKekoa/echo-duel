import { Level } from '@/types/game';

export const tutorialLevels: Level[] = [
  {
    id: 'tutorial-1',
    name: 'First Steps',
    width: 4,
    height: 4,
    walls: [],
    leadStart: { x: 1, y: 1 },
    echoStart: { x: 2, y: 2 },
    goalLead: { x: 2, y: 1 },
    goalEcho: { x: 2, y: 2 },
    par: 1,
  },
  {
    id: 'tutorial-2',
    name: 'The Echo',
    width: 4,
    height: 4,
    walls: [],
    leadStart: { x: 0, y: 0 },
    echoStart: { x: 3, y: 3 },
    goalLead: { x: 2, y: 0 },
    goalEcho: { x: 3, y: 2 },
    par: 3,
  },
  {
    id: 'tutorial-3',
    name: 'Wall Dance',
    width: 5,
    height: 4,
    walls: [{ x: 2, y: 1 }, { x: 2, y: 2 }],
    leadStart: { x: 1, y: 1 },
    echoStart: { x: 3, y: 2 },
    goalLead: { x: 3, y: 1 },
    goalEcho: { x: 1, y: 2 },
    par: 4,
  },
  {
    id: 'tutorial-4',
    name: 'Timing',
    width: 5,
    height: 5,
    walls: [{ x: 2, y: 0 }, { x: 2, y: 1 }, { x: 2, y: 3 }, { x: 2, y: 4 }],
    leadStart: { x: 0, y: 2 },
    echoStart: { x: 4, y: 2 },
    goalLead: { x: 4, y: 2 },
    goalEcho: { x: 0, y: 2 },
    par: 5,
  },
  {
    id: 'tutorial-5',
    name: 'Graduate',
    width: 5,
    height: 5,
    walls: [{ x: 1, y: 2 }, { x: 3, y: 2 }],
    leadStart: { x: 0, y: 0 },
    echoStart: { x: 4, y: 4 },
    goalLead: { x: 4, y: 0 },
    goalEcho: { x: 0, y: 4 },
    par: 8,
  },
];

export const mainLevels: Level[] = [
  {
    id: 'level-1',
    name: 'Crossroads',
    width: 5,
    height: 5,
    walls: [{ x: 2, y: 0 }, { x: 2, y: 4 }, { x: 0, y: 2 }, { x: 4, y: 2 }],
    leadStart: { x: 1, y: 1 },
    echoStart: { x: 3, y: 3 },
    goalLead: { x: 3, y: 1 },
    goalEcho: { x: 1, y: 3 },
    par: 4,
  },
  {
    id: 'level-2',
    name: 'The Maze',
    width: 6,
    height: 5,
    walls: [
      { x: 1, y: 1 }, { x: 2, y: 1 }, { x: 3, y: 1 },
      { x: 3, y: 2 }, { x: 3, y: 3 },
      { x: 1, y: 3 }, { x: 2, y: 3 },
    ],
    leadStart: { x: 0, y: 0 },
    echoStart: { x: 5, y: 4 },
    goalLead: { x: 5, y: 0 },
    goalEcho: { x: 0, y: 4 },
    par: 10,
  },
  {
    id: 'level-3',
    name: 'Spiral',
    width: 5,
    height: 5,
    walls: [
      { x: 1, y: 0 }, { x: 1, y: 1 }, { x: 1, y: 2 },
      { x: 3, y: 2 }, { x: 3, y: 3 }, { x: 3, y: 4 },
    ],
    leadStart: { x: 0, y: 4 },
    echoStart: { x: 4, y: 0 },
    goalLead: { x: 2, y: 2 },
    goalEcho: { x: 2, y: 2 },
    par: 6,
  },
  {
    id: 'level-4',
    name: 'Corners',
    width: 6,
    height: 6,
    walls: [
      { x: 2, y: 2 }, { x: 3, y: 2 },
      { x: 2, y: 3 }, { x: 3, y: 3 },
    ],
    leadStart: { x: 0, y: 0 },
    echoStart: { x: 5, y: 5 },
    goalLead: { x: 5, y: 0 },
    goalEcho: { x: 0, y: 5 },
    par: 10,
  },
  {
    id: 'level-5',
    name: 'Corridor',
    width: 7,
    height: 3,
    walls: [
      { x: 2, y: 0 }, { x: 2, y: 2 },
      { x: 4, y: 0 }, { x: 4, y: 2 },
    ],
    leadStart: { x: 0, y: 1 },
    echoStart: { x: 6, y: 1 },
    goalLead: { x: 6, y: 1 },
    goalEcho: { x: 0, y: 1 },
    par: 7,
  },
  {
    id: 'level-6',
    name: 'Diamond',
    width: 5,
    height: 5,
    walls: [
      { x: 0, y: 0 }, { x: 4, y: 0 },
      { x: 0, y: 4 }, { x: 4, y: 4 },
      { x: 2, y: 2 },
    ],
    leadStart: { x: 2, y: 0 },
    echoStart: { x: 2, y: 4 },
    goalLead: { x: 0, y: 2 },
    goalEcho: { x: 4, y: 2 },
    par: 6,
  },
  {
    id: 'level-7',
    name: 'Zigzag',
    width: 6,
    height: 4,
    walls: [
      { x: 1, y: 0 }, { x: 1, y: 1 },
      { x: 3, y: 2 }, { x: 3, y: 3 },
      { x: 4, y: 0 }, { x: 4, y: 1 },
    ],
    leadStart: { x: 0, y: 3 },
    echoStart: { x: 5, y: 0 },
    goalLead: { x: 5, y: 3 },
    goalEcho: { x: 0, y: 0 },
    par: 9,
  },
  {
    id: 'level-8',
    name: 'Twins',
    width: 5,
    height: 5,
    walls: [
      { x: 0, y: 2 }, { x: 1, y: 2 },
      { x: 3, y: 2 }, { x: 4, y: 2 },
    ],
    leadStart: { x: 2, y: 0 },
    echoStart: { x: 2, y: 4 },
    goalLead: { x: 2, y: 4 },
    goalEcho: { x: 2, y: 0 },
    par: 5,
  },
  {
    id: 'level-9',
    name: 'Labyrinth',
    width: 7,
    height: 5,
    walls: [
      { x: 1, y: 1 }, { x: 2, y: 1 }, { x: 3, y: 1 },
      { x: 5, y: 1 },
      { x: 1, y: 3 },
      { x: 3, y: 3 }, { x: 4, y: 3 }, { x: 5, y: 3 },
    ],
    leadStart: { x: 0, y: 0 },
    echoStart: { x: 6, y: 4 },
    goalLead: { x: 6, y: 0 },
    goalEcho: { x: 0, y: 4 },
    par: 12,
  },
  {
    id: 'level-10',
    name: 'Fortress',
    width: 7,
    height: 7,
    walls: [
      { x: 2, y: 2 }, { x: 3, y: 2 }, { x: 4, y: 2 },
      { x: 2, y: 3 }, { x: 4, y: 3 },
      { x: 2, y: 4 }, { x: 3, y: 4 }, { x: 4, y: 4 },
    ],
    leadStart: { x: 0, y: 0 },
    echoStart: { x: 6, y: 6 },
    goalLead: { x: 3, y: 3 },
    goalEcho: { x: 3, y: 3 },
    par: 8,
  },
  {
    id: 'level-11',
    name: 'Pinwheel',
    width: 6,
    height: 6,
    walls: [
      { x: 1, y: 0 }, { x: 1, y: 1 },
      { x: 4, y: 1 }, { x: 5, y: 1 },
      { x: 0, y: 4 }, { x: 1, y: 4 },
      { x: 4, y: 4 }, { x: 4, y: 5 },
    ],
    leadStart: { x: 0, y: 0 },
    echoStart: { x: 5, y: 5 },
    goalLead: { x: 5, y: 0 },
    goalEcho: { x: 0, y: 5 },
    par: 10,
  },
  {
    id: 'level-12',
    name: 'Hourglass',
    width: 5,
    height: 7,
    walls: [
      { x: 0, y: 1 }, { x: 4, y: 1 },
      { x: 1, y: 2 }, { x: 3, y: 2 },
      { x: 1, y: 4 }, { x: 3, y: 4 },
      { x: 0, y: 5 }, { x: 4, y: 5 },
    ],
    leadStart: { x: 2, y: 0 },
    echoStart: { x: 2, y: 6 },
    goalLead: { x: 2, y: 6 },
    goalEcho: { x: 2, y: 0 },
    par: 8,
  },
  {
    id: 'level-13',
    name: 'Checker',
    width: 5,
    height: 5,
    walls: [
      { x: 1, y: 1 }, { x: 3, y: 1 },
      { x: 1, y: 3 }, { x: 3, y: 3 },
    ],
    leadStart: { x: 0, y: 2 },
    echoStart: { x: 4, y: 2 },
    goalLead: { x: 4, y: 0 },
    goalEcho: { x: 0, y: 4 },
    par: 7,
  },
  {
    id: 'level-14',
    name: 'Switchback',
    width: 7,
    height: 4,
    walls: [
      { x: 0, y: 1 }, { x: 1, y: 1 }, { x: 2, y: 1 },
      { x: 4, y: 2 }, { x: 5, y: 2 }, { x: 6, y: 2 },
    ],
    leadStart: { x: 0, y: 0 },
    echoStart: { x: 6, y: 3 },
    goalLead: { x: 6, y: 0 },
    goalEcho: { x: 0, y: 3 },
    par: 11,
  },
  {
    id: 'level-15',
    name: 'Enclosure',
    width: 6,
    height: 6,
    walls: [
      { x: 1, y: 1 }, { x: 2, y: 1 }, { x: 3, y: 1 }, { x: 4, y: 1 },
      { x: 1, y: 4 }, { x: 2, y: 4 }, { x: 3, y: 4 }, { x: 4, y: 4 },
      { x: 1, y: 2 }, { x: 1, y: 3 },
      { x: 4, y: 2 }, { x: 4, y: 3 },
    ],
    leadStart: { x: 0, y: 0 },
    echoStart: { x: 5, y: 5 },
    goalLead: { x: 2, y: 2 },
    goalEcho: { x: 3, y: 3 },
    par: 9,
  },
  {
    id: 'level-16',
    name: 'Waves',
    width: 7,
    height: 5,
    walls: [
      { x: 1, y: 0 }, { x: 1, y: 1 },
      { x: 3, y: 3 }, { x: 3, y: 4 },
      { x: 5, y: 0 }, { x: 5, y: 1 },
    ],
    leadStart: { x: 0, y: 4 },
    echoStart: { x: 6, y: 0 },
    goalLead: { x: 6, y: 4 },
    goalEcho: { x: 0, y: 0 },
    par: 10,
  },
  {
    id: 'level-17',
    name: 'Cross',
    width: 5,
    height: 5,
    walls: [
      { x: 0, y: 0 }, { x: 1, y: 0 }, { x: 3, y: 0 }, { x: 4, y: 0 },
      { x: 0, y: 1 }, { x: 4, y: 1 },
      { x: 0, y: 3 }, { x: 4, y: 3 },
      { x: 0, y: 4 }, { x: 1, y: 4 }, { x: 3, y: 4 }, { x: 4, y: 4 },
    ],
    leadStart: { x: 2, y: 0 },
    echoStart: { x: 2, y: 4 },
    goalLead: { x: 0, y: 2 },
    goalEcho: { x: 4, y: 2 },
    par: 6,
  },
  {
    id: 'level-18',
    name: 'Cascade',
    width: 6,
    height: 6,
    walls: [
      { x: 0, y: 1 },
      { x: 1, y: 2 },
      { x: 2, y: 3 },
      { x: 3, y: 2 },
      { x: 4, y: 3 },
      { x: 5, y: 4 },
    ],
    leadStart: { x: 0, y: 0 },
    echoStart: { x: 5, y: 5 },
    goalLead: { x: 5, y: 0 },
    goalEcho: { x: 0, y: 5 },
    par: 11,
  },
  {
    id: 'level-19',
    name: 'Islands',
    width: 7,
    height: 5,
    walls: [
      { x: 1, y: 1 }, { x: 2, y: 1 },
      { x: 4, y: 1 }, { x: 5, y: 1 },
      { x: 1, y: 3 }, { x: 2, y: 3 },
      { x: 4, y: 3 }, { x: 5, y: 3 },
    ],
    leadStart: { x: 0, y: 2 },
    echoStart: { x: 6, y: 2 },
    goalLead: { x: 3, y: 0 },
    goalEcho: { x: 3, y: 4 },
    par: 8,
  },
  {
    id: 'level-20',
    name: 'Finale',
    width: 7,
    height: 7,
    walls: [
      { x: 1, y: 1 }, { x: 5, y: 1 },
      { x: 1, y: 5 }, { x: 5, y: 5 },
      { x: 3, y: 2 }, { x: 3, y: 4 },
      { x: 2, y: 3 }, { x: 4, y: 3 },
    ],
    leadStart: { x: 0, y: 0 },
    echoStart: { x: 6, y: 6 },
    goalLead: { x: 6, y: 0 },
    goalEcho: { x: 0, y: 6 },
    par: 14,
  },
];

export const allLevels = [...tutorialLevels, ...mainLevels];

export function getDailyLevel(date: Date): Level {
  const dateStr = date.toISOString().split('T')[0];
  const seed = dateStr.split('-').reduce((acc, val) => acc + parseInt(val), 0);
  const index = seed % allLevels.length;
  return {
    ...allLevels[index],
    id: `daily-${dateStr}`,
    name: `Daily ${dateStr}`,
  };
}
